<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap');

body { font-family: 'Prompt', sans-serif; }

@keyframes gradient {
  0%   { background-position: 0% 50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.gradient-bg {
  background: linear-gradient(-45deg, #EEB1C6, #F5C6D6, #FFD4E5, #EEB1C6);
  background-size: 400% 400%;
  animation: gradient 15s ease infinite;
}

input:focus, textarea:focus, select:focus {
  outline: none;
  border-color: #EEB1C6;
  box-shadow: 0 0 0 3px rgba(238,177,198,0.12);
  transform: translateY(-1px);
  transition: all 0.3s ease;
}

.btn-hover { transition: all 0.3s ease; }
.btn-hover:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0,0,0,0.15); }
.btn-hover:active { transform: translateY(0); }

.card-shadow { box-shadow: 0 20px 60px rgba(238,177,198,0.3); }

@keyframes slideIn {
  from { transform: translateX(400px); opacity: 0; }
  to   { transform: translateX(0); opacity: 1; }
}
.toast-show { animation: slideIn 0.4s ease-out; }

label {
  display: block;
  margin-bottom: 0.4rem;
  color: #4A4A4A;
  font-weight: 500;
  font-size: 0.875rem;
}

input, textarea, select {
  transition: all 0.3s ease;
  border: 2px solid #E5E5E5;
  background: #fff;
  font-family: 'Prompt', sans-serif;
}

input::placeholder, textarea::placeholder { color: #BDBDBD; }

.section-divider {
  background: linear-gradient(90deg, transparent, #EEB1C6, transparent);
  height: 2px;
  margin: 1rem 0;
  opacity: 0.3;
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50%       { transform: translateY(-5px); }
}
.icon-bounce:hover { animation: bounce 0.6s ease infinite; }

.section-pill {
  display: inline-flex;
  align-items: center;
  gap: 7px;
  background: rgba(238,177,198,0.18);
  color: #C47898;
  font-size: 0.78rem;
  font-weight: 600;
  padding: 5px 12px;
  border-radius: 999px;
  margin-bottom: 1rem;
  letter-spacing: 0.02em;
}

.hint {
  font-size: 0.7rem;
  color: #BDBDBD;
  margin-top: 4px;
}
</style>
</head>

<body class="min-h-screen flex items-center justify-center gradient-bg py-8">

<div class="w-[1200px] rounded-3xl p-10 card-shadow" style="background:#FFFFFF;">

<!-- TOP BAR -->
<div class="flex justify-between items-start mb-6">
  <div>
    <h1 class="text-3xl font-bold mb-1" style="color:#EEB1C6;">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢</h1>
    <p class="text-gray-400 text-sm">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</p>
  </div>
  <div class="flex gap-3">
    <button onclick="goHome()" class="flex items-center gap-2 px-4 h-11 rounded-xl bg-white border-2 border-gray-200 text-gray-600 text-sm font-medium hover:bg-gray-50 btn-hover">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
      ‡∏Å‡∏•‡∏±‡∏ö
    </button>
    <button onclick="goSettings()" class="flex items-center gap-2 px-4 h-11 rounded-xl bg-white border-2 border-gray-200 text-gray-600 text-sm font-medium hover:bg-gray-50 btn-hover">
      <i data-lucide="settings" class="w-4 h-4"></i>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
    </button>
  </div>
</div>

<div class="section-divider"></div>

<form id="projectForm" class="grid grid-cols-3 gap-6 mt-2">

<!-- LEFT COL (col-span-2) -->
<div class="col-span-2 flex flex-col gap-5">

  <!-- 1: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ -->
  <div class="p-6 rounded-2xl" style="background:linear-gradient(135deg,#F8EDEC 0%,#FFF5F3 100%);">
    <div class="section-pill">
      <i data-lucide="file-text" style="width:13px;height:13px;"></i>
      ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£
    </div>

    <div class="mb-4">
      <label>‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ <span style="color:#EEB1C6;">*</span></label>
      <input id="title" class="w-full p-3 rounded-xl border-2" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì...">
    </div>

    <div class="mb-4">
      <label>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå <span style="color:#EEB1C6;">*</span></label>
      <textarea id="objective" class="w-full p-3 rounded-xl border-2" rows="2" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢..."></textarea>
    </div>

    <div>
      <label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</label>
      <textarea id="description" class="w-full p-3 rounded-xl border-2" rows="4" placeholder="‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì..."></textarea>
    </div>
  </div>

  <!-- 2: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£ -->
  <div class="p-6 rounded-2xl" style="background:linear-gradient(135deg,#F8EDEC 0%,#FFF5F3 100%);">
    <div class="section-pill">
      <i data-lucide="building-2" style="width:13px;height:13px;"></i>
      ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£ / ‡∏ú‡∏π‡πâ‡∏à‡πâ‡∏≤‡∏á
    </div>

    <div class="grid grid-cols-2 gap-4 mb-4">
      <div>
        <label>‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£ / ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô <span style="color:#EEB1C6;">*</span></label>
        <input id="org_name" class="w-full p-3 rounded-xl border-2" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà">
      </div>
      <div>
        <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î</label>
        <select id="org_type" class="w-full p-3 rounded-xl border-2">
          <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó --</option>
          <option value="university">‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</option>
          <option value="hospital">‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• / ‡∏™‡∏ñ‡∏≤‡∏ô‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•</option>
          <option value="government">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</option>
          <option value="private">‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÄ‡∏≠‡∏Å‡∏ä‡∏ô</option>
          <option value="ngo">NGO / ‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏ß‡∏á‡∏´‡∏≤‡∏Å‡∏≥‡πÑ‡∏£</option>
          <option value="other">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
        </select>
      </div>
    </div>

    <div>
      <label>‡∏Ñ‡∏ì‡∏∞ / ‡∏ù‡πà‡∏≤‡∏¢ / ‡πÅ‡∏ú‡∏ô‡∏Å</label>
      <input id="org_dept" class="w-full p-3 rounded-xl border-2" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏ì‡∏∞‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û">
      <p class="hint">‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</p>
    </div>
  </div>

  <!-- 3: ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ -->
  <div class="p-6 rounded-2xl" style="background:linear-gradient(135deg,#F8EDEC 0%,#FFF5F3 100%);">
    <div class="section-pill">
      <i data-lucide="calendar" style="width:13px;height:13px;"></i>
      ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£
    </div>

    <div class="grid grid-cols-2 gap-4">
      <div>
        <label>‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• <span style="color:#EEB1C6;">*</span></label>
        <input id="start_date" type="date" class="w-full p-3 rounded-xl border-2">
        <p class="hint">‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì progress bar ‡∏Ç‡∏≠‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</p>
      </div>
      <div>
        <label>‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡πÄ‡∏Ç‡∏ï <span style="color:#EEB1C6;">*</span></label>
        <input id="deadline" type="date" class="w-full p-3 rounded-xl border-2">
        <p class="hint">‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô countdown ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</p>
      </div>
    </div>
  </div>

</div>

<!-- RIGHT COL -->
<div class="flex flex-col gap-5">

  <!-- 4: ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á -->
  <div class="p-6 rounded-2xl flex flex-col gap-4" style="background:linear-gradient(135deg,#F8EDEC 0%,#FFF5F3 100%);">
    <div class="section-pill">
      <i data-lucide="users" style="width:13px;height:13px;"></i>
      ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á
    </div>

    <div>
      <label>‡∏ä‡πà‡∏ß‡∏á‡∏≠‡∏≤‡∏¢‡∏∏</label>
      <input id="age_range" class="w-full p-3 rounded-xl border-2" placeholder="‡πÄ‡∏ä‡πà‡∏ô 18-35">
    </div>

    <div>
      <label>‡πÄ‡∏û‡∏®</label>
      <select id="gender" class="w-full p-3 rounded-xl border-2">
        <option value="all">‡∏ó‡∏∏‡∏Å‡πÄ‡∏û‡∏®</option>
        <option value="male">‡∏ä‡∏≤‡∏¢</option>
        <option value="female">‡∏´‡∏ç‡∏¥‡∏á</option>
      </select>
    </div>

    <div>
      <label>‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà</label>
      <input id="location" class="w-full p-3 rounded-xl border-2" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø, ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà">
    </div>

    <div>
      <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</label>
      <input id="sample_size" type="number" class="w-full p-3 rounded-xl border-2" placeholder="100">
    </div>
  </div>

  <!-- 5: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏° -->
  <div class="p-6 rounded-2xl flex flex-col gap-4" style="background:linear-gradient(135deg,#F8EDEC 0%,#FFF5F3 100%);">
    <div class="section-pill">
      <i data-lucide="list-checks" style="width:13px;height:13px;"></i>
      ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°
    </div>

    <div>
      <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì</label>
      <input id="question_count" type="number" class="w-full p-3 rounded-xl border-2" placeholder="‡πÄ‡∏ä‡πà‡∏ô 12">
    </div>

    <div>
      <label>‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ó‡∏≥‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì (‡∏ô‡∏≤‡∏ó‡∏µ)</label>
      <input id="est_minutes" type="number" class="w-full p-3 rounded-xl border-2" placeholder="‡πÄ‡∏ä‡πà‡∏ô 10">
      <p class="hint">‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô stat pill ‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</p>
    </div>
  </div>

  <div class="section-divider"></div>

  <!-- ‡∏õ‡∏∏‡πà‡∏° -->
  <button type="button" onclick="saveDraft()" class="p-4 rounded-xl bg-white border-2 border-gray-300 font-semibold text-gray-600 hover:bg-gray-50 btn-hover icon-bounce flex items-center justify-center gap-2">
    <i data-lucide="save" style="width:17px;height:17px;"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏ö‡∏ö‡∏£‡πà‡∏≤‡∏á
  </button>

  <button type="submit" class="p-4 rounded-xl font-semibold text-white btn-hover flex items-center justify-center gap-2" style="background:linear-gradient(135deg,#EEB1C6 0%,#E89BB0 100%);">
    <i data-lucide="check-circle" style="width:17px;height:17px;"></i> ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£
  </button>

  <button type="button" onclick="goSurvey()" class="p-4 rounded-xl bg-gradient-to-r from-gray-800 to-black text-white font-semibold btn-hover flex items-center justify-center gap-2">
    <i data-lucide="arrow-right" style="width:17px;height:17px;"></i> ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°
  </button>

  <button type="button" onclick="goDraftHistory()" class="p-4 rounded-xl bg-gradient-to-r from-gray-600 to-gray-700 text-white font-semibold btn-hover flex items-center justify-center gap-2">
    <i data-lucide="folder-open" style="width:17px;height:17px;"></i> ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ã‡∏ü
  </button>

</div>
</form>

</div>

<!-- TOAST -->
<div id="toast" class="fixed top-8 right-8 hidden text-white px-8 py-4 rounded-2xl shadow-2xl font-semibold" style="background:linear-gradient(135deg,#2C2C2C 0%,#1A1A1A 100%);"></div>

<script>
lucide.createIcons();

function showToast(msg){
  const t = document.getElementById("toast");
  t.innerText = msg;
  t.classList.remove("hidden");
  t.classList.add("toast-show");
  setTimeout(()=>{ t.classList.add("hidden"); t.classList.remove("toast-show"); }, 2500);
}

async function send(status){
  const data = {
    title:          document.getElementById("title").value,
    objective:      document.getElementById("objective").value,
    description:    document.getElementById("description").value,
    org_name:       document.getElementById("org_name").value,
    org_type:       document.getElementById("org_type").value,
    org_dept:       document.getElementById("org_dept").value,
    start_date:     document.getElementById("start_date").value,
    deadline:       document.getElementById("deadline").value,
    age_range:      document.getElementById("age_range").value,
    gender:         document.getElementById("gender").value,
    location:       document.getElementById("location").value,
    sample_size:    document.getElementById("sample_size").value,
    question_count: document.getElementById("question_count").value,
    est_minutes:    document.getElementById("est_minutes").value,
    status:         status
  };

  const res = await fetch("/hire/create-project-api/", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  });
  return await res.json();
}

document.getElementById("projectForm").addEventListener("submit", async e => {
  e.preventDefault();
  const r = await send("active");
  if(r.status === "success"){ showToast("‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß"); projectForm.reset(); }
  else { showToast("‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î"); }
});

async function saveDraft(){
  const r = await send("draft");
  if(r.status === "success"){ showToast("üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏ö‡∏ö‡∏£‡πà‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß"); projectForm.reset(); }
  else { showToast("‚ùå ‡πÄ‡∏ã‡∏ü‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"); }
}

function goSurvey()       { window.location.href = "/hire/create-survey/"; }
function goDraftHistory() { window.location.href = "/hire/drafts/"; }
function goHome()          { window.location.href = "/"; }
function goSettings()      { window.location.href = "/settings/"; }
</script>

</body>
</html>